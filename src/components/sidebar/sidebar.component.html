<div class="sidebar" [class.collapsed]="isCollapsed()">
  <div class="sidebar-header">
    <button
      class="toggle-button"
      (click)="toggleSidebar()"
      aria-label="Toggle Sidebar"
    >
      @if (isCollapsed()) {
      <svg
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g filter="url(#filter0_d_5123_162)">
          <rect
            x="4"
            y="3"
            width="32"
            height="32"
            rx="16"
            fill="#00732E"
            shape-rendering="crispEdges"
          />
          <rect
            x="5.5"
            y="4.5"
            width="29"
            height="29"
            rx="14.5"
            stroke="#F0F1F3"
            stroke-width="3"
            shape-rendering="crispEdges"
          />
          <path
            d="M21.4 24.4L16 19L21.4 13.6"
            stroke="white"
            stroke-width="1.8"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_5123_162"
            x="0"
            y="0"
            width="40"
            height="40"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1" />
            <feGaussianBlur stdDeviation="2" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.05 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_5123_162"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_5123_162"
              result="shape"
            />
          </filter>
        </defs>
      </svg>

      } @else {

      <svg
        width="40"
        height="40"
        viewBox="0 0 40 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g filter="url(#filter0_d_5123_162)">
          <rect
            x="4"
            y="3"
            width="32"
            height="32"
            rx="16"
            fill="#00732E"
            shape-rendering="crispEdges"
          />
          <rect
            x="5.5"
            y="4.5"
            width="29"
            height="29"
            rx="14.5"
            stroke="#F0F1F3"
            stroke-width="3"
            shape-rendering="crispEdges"
          />
          <path
            d="M21.4 24.4L16 19L21.4 13.6"
            stroke="white"
            stroke-width="1.8"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </g>
        <defs>
          <filter
            id="filter0_d_5123_162"
            x="0"
            y="0"
            width="40"
            height="40"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset dy="1" />
            <feGaussianBlur stdDeviation="2" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0.0470588 0 0 0 0 0.0470588 0 0 0 0 0.0509804 0 0 0 0.05 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_5123_162"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_5123_162"
              result="shape"
            />
          </filter>
        </defs>
      </svg>

      }
    </button>
    <div class="logo" *ngIf="!isCollapsed()">
      <svg viewBox="0 0 24 24" width="24" height="24" class="logo-icon">
        <path
          d="M12 22q-2.05 0-3.9-.788-1.85-.787-3.175-2.137-1.325-1.35-2.1-3.175Q2 14.075 2 12q0-2.15.825-3.988.825-1.837 2.15-3.15 1.325-1.312 3.1-2.1 1.775-.787 3.75-.787 1.9 0 3.663.8 1.762.8 3.062 2.1 1.3 1.3 2.05 3.05.75 1.75.75 3.75 0 1.5-.35 2.2-.35.7-1.125.7-.325 0-.6-.138-.275-.137-.5-.487-.1-.175-.162-.375-.063-.2-.113-.5-.5.475-1.175.737-.675.263-1.525.263-1.35 0-2.25-.9T8 12.1q0-1.35.925-2.25T11.25 8.95q1.4 0 2.45 1.05 1.05 1.05 1.05 2.45 0 .25-.075.425-.075.175-.075.275 0 .175.25.175h.15q.075 0 .175-.075h.05q.1-.15.225-.4t.125-.55q0-2.225-1.6-3.8-1.6-1.575-3.9-1.575-2.275 0-3.85 1.575Q4.85 9.675 4.85 12q0 1.775.825 3.175T8.2 17.55q1.55.825 3.325.825 2.075 0 3.725-1.05t2.7-2.75l.1.1q.525.525 1.075.787.55.263 1.225.263.9 0 1.5-.587.6-.588.6-1.663 0-1.125-.425-2.2-.425-1.075-1.2-1.925-.775-.85-1.85-1.3Q18.4 7.6 17.225 7.6q-.425 0-.762.1-.338.1-.588.2-.375-.55-.9-.762-.525-.213-1.175-.213-.05 0-.088.025-.037.025-.087.025-.1 0-.175-.1-.075-.1-.075-.2 0-.05.025-.1l.075-.1q.05-.05.1-.05h.05q.75 0 1.425.225.675.225 1.175.675.45-.2.9-.3.45-.1.95-.1 1.45 0 2.7.55 1.25.55 2.15 1.5 1 1 1.55 2.325.55 1.325.55 2.775 0 1.55-.9 2.45-.9.9-2.4.9-1 0-1.85-.4-.85-.4-1.5-1-.775 1.4-2.125 2.3-1.35.9-3.05.9Z"
          fill="#4CAF50"
        />
      </svg>
    </div>
  </div>

  <nav class="sidebar-nav">
    <ul>
      @for (item of navigationItems(); track $index) {
      <li
        [class.active]="item.active"
        (click)="setActiveItem($index)"
        [attr.aria-selected]="item.active"
      >
        <a href="javascript:void(0)" class="nav-link">
          <svg viewBox="0 0 16 16" width="16" height="16" class="nav-icon">
            <path [attr.d]="item.icon" />
          </svg>
          @if (!isCollapsed()) {
          <span class="nav-label">{{ item.label }}</span>
          }
        </a>
      </li>
      }
    </ul>
  </nav>

  <div class="sidebar-footer">
    <div class="user-profile" [class.collapsed]="isCollapsed()">
      <div class="avatar">
        <svg viewBox="0 0 24 24" width="20" height="20">
          <path
            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"
          />
        </svg>
      </div>
      @if (!isCollapsed()) {
      <div class="user-info">
        <span class="user-name">Lorem</span>
        <span class="user-role">Lorem</span>
      </div>
      }
    </div>
    <button class="logout-button" aria-label="Logout">
      <svg viewBox="0 0 24 24" width="18" height="18">
        <path
          d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"
        />
      </svg>
      @if (!isCollapsed()) {
      <span>Logout</span>
      }
    </button>
  </div>
</div>
